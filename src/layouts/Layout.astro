---
import "../styles/global.css";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import { SITE_TITLE } from '../consts';
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import { languages } from '../i18n/ui';


export function getStaticPaths() {
	return Object.keys(languages).map((lang) => ({
		params: { lang },
	}));
}
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

interface Props {
  title: string;
  description?: string;
  image?: string;
  canonicalUrl?: string;
}




const canonicalURL = new URL(Astro.url.pathname, Astro.site);

const { title, description, image = '/blog-placeholder-1.jpg' } = Astro.props;
const { canonicalUrl } = Astro.props;

const currentPath = Astro.url.pathname;
const basePath = currentPath.replace(/^\/[a-z]{2}\//, "/");
const siteUrl = import.meta.env.SITE || "https://invisibletext.pro";
const canonical = canonicalUrl || new URL(currentPath, siteUrl).href;
const metaDescription = description;
const metaImage = image || "/og-image.jpg";
---
<!doctype html>
<html lang={lang} >
  <head>
    <!-- Global Metadata -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="sitemap" href="/sitemap-index.xml" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title={SITE_TITLE}
      href={new URL('rss.xml', Astro.site)}
    />
    <link
      rel="alternate"
      hreflang="x-default"
      href={new URL(basePath, siteUrl).href}
    />
    <meta name="generator" content={Astro.generator} />

    <!-- Font preloads -->
    <link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin />
    <link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin />

    <!-- Canonical URL -->
    <link rel="canonical" href={canonicalURL} />

    <!-- Primary Meta Tags -->
    <title>{title}</title>
    <meta name="title" content={title} />
    <meta name="description" content={description} />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={Astro.url} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={new URL(image, Astro.url)} />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content={Astro.url} />
    <meta property="twitter:title" content={title} />
    <meta property="twitter:description" content={description} />
    <meta property="twitter:image" content={new URL(image, Astro.url)} />
  </head>
  <body>
    <div class="min-h-screen bg-slate-50 bg-[radial-gradient(#e0e0e0_1px,transparent_1px)] [background-size:20px_20px]">
      <Header />
      <div class="mx-auto container">
        <slot />
      </div>
      <Footer />
    </div>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Invisible Text",
      "url": "https://invisibletext.pro/",
      "logo": "https://invisibletext.pro/logo.webp",
      "contactPoint": {
        "@type": "ContactPoint",
        "email": "support@invisibletext.me",
        "contactType": "Customer Support",
        "areaServed": ["en", "de", "es", "fr", "pt", "nl", "id", "it", "ru"],
        "availableLanguage": ["English", "German", "Spanish", "French", "Portuguese", "Dutch", "Indonesian", "Italian", "Russian"]
      }
    }
    </script><script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://invisibletext.pro/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "About Us",
          "item": "https://invisibletext.pro/about/"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Contact Us",
          "item": "https://invisibletext.pro/contact/"
        },
        {
          "@type": "ListItem",
          "position": 4,
          "name": "Privacy Policy",
          "item": "https://invisibletext.pro/privacy/"
        },
        {
          "@type": "ListItem",
          "position": 5,
          "name": "Terms and Condition",
          "item": "https://invisibletext.pro/terms-and-conditions/"
        }
      ]
    }
    </script><script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Invisible Text - English",
      "url": "https://invisibletext.pro/",
      "inLanguage": "en",
      "isPartOf": {
        "@type": "WebSite",
        "url": "https://invisibletext.pro/"
      }
    }
    </script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What are invisible characters?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Invisible characters are Unicode characters that take up space but are not visible when rendered. They can be used for various purposes, including formatting and creating unique usernames."
          }
        },
        {
          "@type": "Question",
          "name": "Are invisible characters safe to use?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "While invisible characters are generally safe, some platforms may filter them out or display them differently. Always test before using them in important situations."
          }
        },
        {
          "@type": "Question",
          "name": "Can I use invisible characters in passwords?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "It's not recommended to use invisible characters in passwords as they may not be supported by all systems and could lead to login issues."
          }
        },
        {
          "@type": "Question",
          "name": "How do I see invisible characters?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "You can use specialized text editors or online tools that highlight invisible characters to see them. Some word processors also have options to show hidden characters."
          }
        }
      ]
    }
    </script>
  </body>
</html>
